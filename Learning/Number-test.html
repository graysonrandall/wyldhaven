<!DOCTYPE html>
<html>
<body>

<label for="theme">Select color: </label>
<select id="theme">
  <option value="">-Select one-</option>
  <option value="blue">Blue</option>
  <option value="red">Red</option>
</select>

<h2>Enter your monthly payment and calculate your 12 month interest total</h2>

<input type="number" id="monthly-input">

<button onclick="calculate()">Calculate</button>

<p>Your total payment = <span id="rounded-number"></span>.</p>

<p>Your exact payment = <span id="exact-number"></span>.</p>

<p>You are <b><span id="insurance"></span></b> by your insurance as of <span id="currentday"></span>.</p>

<p>If you have questions you can call us at 815-600-6611 from 9am-5pm, Monday - Friday</p>

<p>The office is currently <b><span id="office"></span></b></p>

<hr>


<p><span id="state"></span></p>

<label for="city-input">Search for your city: </label>
<input type="text" id="city-input">

<button id="citysearch">Search</button>

<p class="citydisplay"></p>


<hr>

<div class="poodiv">
<p>Can I be on my parents plan?</p>

<input type="number" id="age-input">
<p id="agePlan"></p>
</div>

<p id="timer">600</p>

<script> //timeout function


// let string = "This is a new";
// let stringArray = [];
//
// function valCalc() {
//   console.log(string.length);
//
//   if (string.length > 20) {
//     alert('Red Flag');
//   } else {
//     for (let i = 0; i < string.length; i++) {
//       stringArray.push(string.charAt(i));
//       console.log(stringArray);
//     }
//   }
// }
//
// valCalc();
// console.log(stringArray[5]);

//--------

// let candleArray = [3, 2, 1, 3];
//
// function birthdayCakeCandles() {
//     let candlemax = Math.max(...candleArray);
//     console.log('candlemax = ' + candlemax);
//     let finalNum = 0;
//
//     for (let i = 0; i < candleArray.length; i++) {
//       console.log('candlearray i = ' + candleArray[i]);
//       if (candleArray[i] === candlemax) {
//         finalNum += 1;
//     }
//   }
//
//   //return finalNum; for HackerRank shit
//   console.log(finalNum);
// }
//
// birthdayCakeCandles();

// let currentTime = new Date();
//
// function timeConversion() {
//     var currentHours = currentTime.getHours();
//     var currentMinutes = currentTime.getMinutes();
//     var currentSeconds = currentTime.getSeconds();
//     var timeOfDay = (currentHours < 12) ? "AM" : "PM";
//
//     var currentTimeString = currentHours + ":" + currentMinutes + ":" + currentSeconds + " " + timeOfDay;
//     //return currentTimeString;
//     console.log(currentTimeString);
//
// }
// timeConversion();



let currentTime = '07:05:45PM';

function timeConversion() {
    let hour = currentTime.slice(0, 2);

    if (hour < 12) {
        hour += 12;
        currentTime.splice(0, 2);
        currentTime = hour + currentTime + 'PM';

    } else if (hour > 12) {
        currentTime = hour + currentTime + 'AM';
    }

    //return currentTime;
    console.log(currentTime);

}

timeConversion();

let domtest = document.querySelectorAll('p');
console.log(domtest);


let states = ['Illinois', 'Wisconsin', 'New York', 'Mass', 'California'];

window.onload = function() {
  let statesSentence = document.getElementById("state").innerHTML = ' or ';
  let info = 'Are you in ';

  for (let i = 0; i < states.length; i++ ) {

    if (i === states.length - 1 ) {
      info += states[i] + ', USA?';
    } else {
      info += states[i] + statesSentence + ' ';
    }
  }

  document.getElementById("state").innerHTML = info;
  console.log(info);

}

  let input = document.getElementById("age-input");
  let insPlan = document.getElementById("agePlan");
  let pootest = document.createElement('p');
  let poodiv = document.querySelector('.poodiv');

  input.onchange = function() {
    let age = input.value;
    console.log(age);
    let parentsPlan = (age >= 18) ? "Yes" : "No";
    insPlan.innerHTML = parentsPlan;
    pootest.textContent = 'Poo Butter!';

    if (age == 21) {
      pootest.style.cssText = 'background-color: red;';
      pootest.classList.add('new-class');
    } else {
      pootest.style.cssText = '';
      pootest.classList.remove('new-class');
    }

    poodiv.appendChild(pootest);
  }



  let timeleft = 600;

  let intervalTimer = setInterval(function() {

    document.onmousemove = function() {
      timeleft = 600;
      document.getElementById('timer').innerHTML = timeleft;
    }

    --timeleft;
    document.getElementById('timer').innerHTML = timeleft;

    if (timeleft <= 0) {
      document.getElementById('timer').innerHTML = 0;
      alert("Please keep this session active");
    }
  }, 1000);

function calculate() {
  let amounts = 12;
  const INTEREST = .12;
  let payment = document.getElementById("monthly-input").value;
  let pretotal = payment * INTEREST;
  let total = (+pretotal + +payment) * amounts;
  let date = new Date();


  document.getElementById("rounded-number").innerHTML = total.toFixed(0);
  document.getElementById("exact-number").innerHTML = total;

  if (total <= 1400 || total >= 1000000) {
    document.getElementById("insurance").innerHTML = 'covered';
    document.getElementById("currentday").innerHTML = date.toLocaleDateString("en-US");
  } else {
    document.getElementById("insurance").innerHTML = 'not covered';
    document.getElementById("currentday").innerHTML = date.toLocaleDateString("en-US");
  }
}

let officedate = new Date();
let officehours = officedate.getHours();
let officeday = officedate.getDay();

if (officehours >= 8 && officehours <= 16 && officeday >= 1 && officeday <= 5 ) {
  document.getElementById("office").innerHTML = "open";
} else {
  document.getElementById("office").innerHTML = "closed";
}

let theme = document.getElementById("theme");
let header = document.querySelector("h2");

function update(textColor) {
  header.style.color = textColor;
}

theme.onchange = function() {
  if (theme.value === 'red') {
    update('red');
  } else if (theme.value === 'blue') {
    update('blue');
  } else {
    update('black');
  }
}


let cityOptions = ['Chicago', 'Madison', 'New York', 'San Franciso', 'Los Angeles', 'Boston'];
let cityInput = document.getElementById("city-input");
let cityBtn = document.getElementById("citysearch");
let cityPara = document.querySelector('.citydisplay');

cityBtn.addEventListener('click', function() {
  let searchName = cityInput.value;
  cityInput.value = '';
  cityInput.focus();
  console.log(searchName);

  for (i = 0; i < cityOptions.length; i++) {
    let choice = cityOptions[i];

    if (choice === searchName ) {
      cityPara.textContent = searchName + ' is a serviced city. Congrats!';
      break;
    } else {
      cityPara.textContent = searchName + ' is not a serviced city. Sorry!';
    }
  }


});

</script>

</body>
</html>
