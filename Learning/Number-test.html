<!DOCTYPE html>
<html>
<body>

<label for="theme">Select color: </label>
<select id="theme">
  <option value="">-Select one-</option>
  <option value="blue">Blue</option>
  <option value="red">Red</option>
</select>

<h2>Enter your monthly payment and calculate your 12 month interest total</h2>

<input type="number" id="monthly-input">

<button onclick="calculate()">Calculate</button>

<p>Your total payment = <span id="rounded-number"></span>.</p>

<p>Your exact payment = <span id="exact-number"></span>.</p>

<p>You are <b><span id="insurance"></span></b> by your insurance as of <span id="currentday"></span>.</p>

<p>If you have questions you can call us at 815-600-6611 from 9am-5pm, Monday - Friday</p>

<p>The office is currently <b><span id="office"></span></b></p>

<hr>


<p><span id="state"></span></p>

<label for="city-input">Search for your city: </label>
<input type="text" id="city-input">

<button id="citysearch">Search</button>

<p class="citydisplay"></p>


<hr>

<div class="poodiv">
<p>Can I be on my parents plan?</p>

<input type="number" id="age-input">
<p id="agePlan"></p>
</div>

<p id="timer">600</p>

<hr>

<br><br><br>

<div class="onward-testimonial-dissolve">
  <div class="testimonial hide">
      <p>Test</p>
  </div>

  <div class="testimonial">
      <p>Test</p>
  </div>

  <div class="testimonial hide">
      <p>Test</p>
  </div>

  <div class="testimonial hide">
      <p>Test</p>
  </div>

</div>

<br><br><br>

<hr>

<br><br><br>

<div id="container">

<div id="div1"></div>
<div id="div2"></div>
<div id="div3"></div>

</div>

<script>

let testimonials = document.querySelectorAll('.testimonial');

  function rotatePictures(testimonials) {
    let length = testimonials.length
      , i = 0;
    setInterval(function () {
        i = (i + 1) % length;
        testimonials[i].classList.remove('hide');

        if (i == 0) {
          testimonials[3].classList.add('hide');
        } else if (i == 1 || i == 2 || i == 3) {
          testimonials[i - 1].classList.add('hide');
        }

        console.log(i);
    }, 4000)
  }

rotatePictures(testimonials);


let container = document.getElementById('container');
let div1 = document.getElementById('div1');
let div2 = document.getElementById('div2');
let div3 = document.getElementById('div3');

let alldivs = [div1, div2, div3];

div1.style.cssText = 'background-color: red; width: 1100px; height: 300px; border: 1px solid; position: absolute;';
div2.style.cssText = 'background-color: blue; width: 900px; height: 220px; border: 1px solid; position: absolute; z-index: 2;';
div3.style.cssText = 'background-color: green; width: 700px; height: 150px; border: 1px solid; position: absolute; z-index: 3;';
container.style.cssText = 'position: relative; display: flex; justify-content: center; align-items: center; margin-top: 15rem;';

div1.addEventListener('click', function() {
  alert('div 1 clicked!');
});

div2.addEventListener('click', function() {
  alert('div 2 clicked!');
});

div3.addEventListener('click', function() {
  alert('div 3 clicked!');
});

//-------- var getting overwritten from inside a block (they are not block scope), let is better

// var x = "outside";
// function foo() {
//   x = "inside";
//   console.log(x);
// }
// foo(); // inside
// console.log(x); // inside

// let i = 0;
// if (true) {
//   let i = 1;
// }
// console.log(i); // 0

// if (true) {
//   const i = 0;
// }
// console.log(i); // ReferenceError: i is not defined



//--------Example of closure in JS - refers to variables that are either global or private to the function that they are in.
//Functions inside of other functions have access to the parent's variables and scope.
//Closures are imporant because they provide data privacy and prevent code changes from breaking other code.

function showName (firstName, lastName) { 
  var nameIntro = "Your name is ";

    // this inner function has access to the outer function's variables, including the parameter
    function makeFullName () { 
      return nameIntro + firstName + " " + lastName; 
    }

  return makeFullName (); 
} 

showName ("Michael", "Jackson"); // Your name is Michael Jackson

//////////
//This is an example of closure. Inside of createCounter, is counter = 0.
//Since createCounter is stored inside of const = increment, everytime increment() is called
//it will have stored and updated the value of counter. Counter only lives inside of createCounter but
//that info is stored/updated inside of increment.

function createCounter() {
   let counter = 0;
   const myFunction = function() {
     counter = counter + 1;
     return counter;
   }
   return myFunction;
 }

const increment = createCounter();
const c1 = increment();
const c2 = increment();
const c3 = increment();
console.log('example increment', c1, c2, c3);




//--------Determine array length, log each indiv char in a string


// let string = "This is a new";
// let stringArray = [];
//
// function valCalc() {
//   console.log(string.length);
//
//   if (string.length > 20) {
//     alert('Red Flag');
//   } else {
//     for (let i = 0; i < string.length; i++) {
//       stringArray.push(string.charAt(i));
//       console.log(stringArray);
//     }
//   }
// }
//
// valCalc();
// console.log(stringArray[5]);



//--------determine max number in an array, determine how many


// let candleArray = [3, 2, 1, 3];
//
// function birthdayCakeCandles() {
//     let candlemax = Math.max(...candleArray);
//     console.log('candlemax = ' + candlemax);
//     let finalNum = 0;
//
//     for (let i = 0; i < candleArray.length; i++) {
//       console.log('candlearray i = ' + candleArray[i]);
//       if (candleArray[i] === candlemax) {
//         finalNum += 1;
//     }
//   }
//
//   //return finalNum; for HackerRank shit
//   console.log(finalNum);
// }
//
// birthdayCakeCandles();



//--------Determine actual current time with AM and PM


// let currentTime = new Date();
//
// function timeConversion() {
//     var currentHours = currentTime.getHours();
//     var currentMinutes = currentTime.getMinutes();
//     var currentSeconds = currentTime.getSeconds();
//     var timeOfDay = (currentHours < 12) ? "AM" : "PM";
//
//     var currentTimeString = currentHours + ":" + currentMinutes + ":" + currentSeconds + " " + timeOfDay;
//     //return currentTimeString;
//     console.log(currentTimeString);
//
// }
// timeConversion();



//--------Determine a set current time and convert to military


// let currentTime = '07:05:45PM';
//
// function timeConversion() {
//     let hour = currentTime.slice(0, 2);
//     let inputdaytime = currentTime.slice(8, 10);
//     hour = Number(hour);
//
//     if (inputdaytime == 'PM') {
//         hour += 12;
//         currentTime = currentTime.slice(2, 8);
//         currentTime = hour + currentTime;
//
//     } else {
//         currentTime = currentTime.slice(0, 8);
//     }
//
//     return currentTime;
//     console.log(currentTime);
//
// }
//
// timeConversion();



//--------Round up test scores if > than 3, and above 38


// let initialScores = [73, 67, 38, 33];
// let initialRounded;
// let roundUp = [];
// let testifRound = [];
// let finalScores = [];
//
// function gradingStudents(grades) {
//
//     for (let i = 0; i < initialScores.length; i++) {
//         initialRounded = Math.ceil(initialScores[i] / 5) * 5;
//         roundUp.push(initialRounded);
//         testifRound.push(roundUp[i] - initialScores[i]);
//
//         if (testifRound[i] < 3 && initialScores[i] >= 38) {
//             finalScores.push(roundUp[i]);
//
//         } else {
//             finalScores.push(initialScores[i]);
//         }
//
//     }
//
//     return finalScores;
//     console.log(finalScores);
//
// }

let domtest = document.querySelectorAll('p');
console.log(domtest);


let states = ['Illinois', 'Wisconsin', 'New York', 'Mass', 'California'];

window.onload = function() {
  let statesSentence = document.getElementById("state").innerHTML = ' or ';
  let info = 'Are you in ';

  for (let i = 0; i < states.length; i++ ) {

    if (i === states.length - 1 ) {
      info += states[i] + ', USA?';
    } else {
      info += states[i] + statesSentence + ' ';
    }
  }

  document.getElementById("state").innerHTML = info;
  console.log(info);

}

  let input = document.getElementById("age-input");
  let insPlan = document.getElementById("agePlan");
  let pootest = document.createElement('p');
  let poodiv = document.querySelector('.poodiv');

  input.onchange = function() {
    let age = input.value;
    console.log(age);
    let parentsPlan = (age >= 18) ? "Yes" : "No";
    insPlan.innerHTML = parentsPlan;
    pootest.textContent = 'Poo Butter!';

    if (age == 21) {
      pootest.style.cssText = 'background-color: red;';
      pootest.classList.add('new-class');
    } else {
      pootest.style.cssText = '';
      pootest.classList.remove('new-class');
    }

    poodiv.appendChild(pootest);
  }



  let timeleft = 600;

  let intervalTimer = setInterval(function() {

    document.onmousemove = function() {
      timeleft = 600;
      document.getElementById('timer').innerHTML = timeleft;
    }

    --timeleft;
    document.getElementById('timer').innerHTML = timeleft;

    if (timeleft <= 0) {
      document.getElementById('timer').innerHTML = 0;
      alert("Please keep this session active");
    }
  }, 1000);

function calculate() {
  let amounts = 12;
  const INTEREST = .12;
  let payment = document.getElementById("monthly-input").value;
  let pretotal = payment * INTEREST;
  let total = (+pretotal + +payment) * amounts;
  let date = new Date();


  document.getElementById("rounded-number").innerHTML = total.toFixed(0);
  document.getElementById("exact-number").innerHTML = total;

  if (total <= 1400 || total >= 1000000) {
    document.getElementById("insurance").innerHTML = 'covered';
    document.getElementById("currentday").innerHTML = date.toLocaleDateString("en-US");
  } else {
    document.getElementById("insurance").innerHTML = 'not covered';
    document.getElementById("currentday").innerHTML = date.toLocaleDateString("en-US");
  }
}

let officedate = new Date();
let officehours = officedate.getHours();
let officeday = officedate.getDay();

if (officehours >= 8 && officehours <= 16 && officeday >= 1 && officeday <= 5 ) {
  document.getElementById("office").innerHTML = "open";
} else {
  document.getElementById("office").innerHTML = "closed";
}

let theme = document.getElementById("theme");
let header = document.querySelector("h2");

function update(textColor) {
  header.style.color = textColor;
}

theme.onchange = function() {
  if (theme.value === 'red') {
    update('red');
  } else if (theme.value === 'blue') {
    update('blue');
  } else {
    update('black');
  }
}


let cityOptions = ['Chicago', 'Madison', 'New York', 'San Franciso', 'Los Angeles', 'Boston'];
let cityInput = document.getElementById("city-input");
let cityBtn = document.getElementById("citysearch");
let cityPara = document.querySelector('.citydisplay');

cityBtn.addEventListener('click', function() {
  let searchName = cityInput.value;
  cityInput.value = '';
  cityInput.focus();
  console.log(searchName);

  for (i = 0; i < cityOptions.length; i++) {
    let choice = cityOptions[i];

    if (choice === searchName ) {
      cityPara.textContent = searchName + ' is a serviced city. Congrats!';
      break;
    } else {
      cityPara.textContent = searchName + ' is not a serviced city. Sorry!';
    }
  }


});

</script>

</body>
</html>
